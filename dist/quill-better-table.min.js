!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("quill")):"function"==typeof define&&define.amd?define(["quill"],e):"object"==typeof exports?exports.quillBetterTable=e(require("quill")):t.quillBetterTable=e(t.Quill)}(window,(function(t){return function(t){var e=window.webpackHotUpdatequillBetterTable;window.webpackHotUpdatequillBetterTable=function(t,o){!function(t,e){if(!v[t]||!x[t])return;for(var o in x[t]=!1,e)Object.prototype.hasOwnProperty.call(e,o)&&(g[o]=e[o]);0==--f&&0===w&&q()}(t,o),e&&e(t,o)};var o,i=!0,r="a9262c79a30b155ba150",l={},n=[],s=[];function a(t){var e=O[t];if(!e)return H;var i=function(i){return e.hot.active?(O[i]?-1===O[i].parents.indexOf(t)&&O[i].parents.push(t):(n=[t],o=i),-1===e.children.indexOf(i)&&e.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+t),n=[]),H(i)},r=function(t){return{configurable:!0,enumerable:!0,get:function(){return H[t]},set:function(e){H[t]=e}}};for(var l in H)Object.prototype.hasOwnProperty.call(H,l)&&"e"!==l&&"t"!==l&&Object.defineProperty(i,l,r(l));return i.e=function(t){return"ready"===h&&u("prepare"),w++,H.e(t).then(e,(function(t){throw e(),t}));function e(){w--,"prepare"===h&&(N[t]||A(t),0===w&&0===f&&q())}},i.t=function(t,e){return 1&e&&(t=i(t)),H.t(t,-2&e)},i}function c(e){var i={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(t,e){if(void 0===t)i._selfAccepted=!0;else if("function"==typeof t)i._selfAccepted=t;else if("object"==typeof t)for(var o=0;o<t.length;o++)i._acceptedDependencies[t[o]]=e||function(){};else i._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)i._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)i._declinedDependencies[t[e]]=!0;else i._declinedDependencies[t]=!0},dispose:function(t){i._disposeHandlers.push(t)},addDisposeHandler:function(t){i._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=i._disposeHandlers.indexOf(t);e>=0&&i._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,h){case"idle":(g={})[e]=t[e],u("ready");break;case"ready":T(e);break;case"prepare":case"check":case"dispose":case"apply":(b=b||[]).push(e)}},check:C,apply:E,status:function(t){if(!t)return h;d.push(t)},addStatusHandler:function(t){d.push(t)},removeStatusHandler:function(t){var e=d.indexOf(t);e>=0&&d.splice(e,1)},data:l[e]};return o=void 0,i}var d=[],h="idle";function u(t){h=t;for(var e=0;e<d.length;e++)d[e].call(null,t)}var p,g,m,b,f=0,w=0,N={},x={},v={};function y(t){return+t+""===t?+t:t}function C(t){if("idle"!==h)throw new Error("check() is only allowed in idle status");return i=t,u("check"),(e=1e4,e=e||1e4,new Promise((function(t,o){if("undefined"==typeof XMLHttpRequest)return o(new Error("No browser support"));try{var i=new XMLHttpRequest,l=H.p+""+r+".hot-update.json";i.open("GET",l,!0),i.timeout=e,i.send(null)}catch(t){return o(t)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)o(new Error("Manifest request to "+l+" timed out."));else if(404===i.status)t();else if(200!==i.status&&304!==i.status)o(new Error("Manifest request to "+l+" failed."));else{try{var e=JSON.parse(i.responseText)}catch(t){return void o(t)}t(e)}}}))).then((function(t){if(!t)return u(S()?"ready":"idle"),null;x={},N={},v=t.c,m=t.h,u("prepare");var e=new Promise((function(t,e){p={resolve:t,reject:e}}));g={};return A(0),"prepare"===h&&0===w&&0===f&&q(),e}));var e}function A(t){v[t]?(x[t]=!0,f++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=H.p+""+t+"."+r+".hot-update.js",document.head.appendChild(e)}(t)):N[t]=!0}function q(){u("ready");var t=p;if(p=null,t)if(i)Promise.resolve().then((function(){return E(i)})).then((function(e){t.resolve(e)}),(function(e){t.reject(e)}));else{var e=[];for(var o in g)Object.prototype.hasOwnProperty.call(g,o)&&e.push(y(o));t.resolve(e)}}function E(e){if("ready"!==h)throw new Error("apply() is only allowed in ready status");return function e(i){var s,a,c,d,h;function p(t){for(var e=[t],o={},i=e.map((function(t){return{chain:[t],id:t}}));i.length>0;){var r=i.pop(),l=r.id,n=r.chain;if((d=O[l])&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:n,moduleId:l};if(d.hot._main)return{type:"unaccepted",chain:n,moduleId:l};for(var s=0;s<d.parents.length;s++){var a=d.parents[s],c=O[a];if(c){if(c.hot._declinedDependencies[l])return{type:"declined",chain:n.concat([a]),moduleId:l,parentId:a};-1===e.indexOf(a)&&(c.hot._acceptedDependencies[l]?(o[a]||(o[a]=[]),f(o[a],[l])):(delete o[a],e.push(a),i.push({chain:n.concat([a]),id:a})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:o}}function f(t,e){for(var o=0;o<e.length;o++){var i=e[o];-1===t.indexOf(i)&&t.push(i)}}S();var w={},N=[],x={},C=function(){console.warn("[HMR] unexpected require("+q.moduleId+") to disposed module")};for(var A in g)if(Object.prototype.hasOwnProperty.call(g,A)){var q;h=y(A),q=g[A]?p(h):{type:"disposed",moduleId:A};var E=!1,T=!1,M=!1,B="";switch(q.chain&&(B="\nUpdate propagation: "+q.chain.join(" -> ")),q.type){case"self-declined":i.onDeclined&&i.onDeclined(q),i.ignoreDeclined||(E=new Error("Aborted because of self decline: "+q.moduleId+B));break;case"declined":i.onDeclined&&i.onDeclined(q),i.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+q.moduleId+" in "+q.parentId+B));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(q),i.ignoreUnaccepted||(E=new Error("Aborted because "+h+" is not accepted"+B));break;case"accepted":i.onAccepted&&i.onAccepted(q),T=!0;break;case"disposed":i.onDisposed&&i.onDisposed(q),M=!0;break;default:throw new Error("Unexception type "+q.type)}if(E)return u("abort"),Promise.reject(E);if(T)for(h in x[h]=g[h],f(N,q.outdatedModules),q.outdatedDependencies)Object.prototype.hasOwnProperty.call(q.outdatedDependencies,h)&&(w[h]||(w[h]=[]),f(w[h],q.outdatedDependencies[h]));M&&(f(N,[q.moduleId]),x[h]=C)}var R,L=[];for(a=0;a<N.length;a++)h=N[a],O[h]&&O[h].hot._selfAccepted&&x[h]!==C&&!O[h].hot._selfInvalidated&&L.push({module:h,parents:O[h].parents.slice(),errorHandler:O[h].hot._selfAccepted});u("dispose"),Object.keys(v).forEach((function(t){!1===v[t]&&function(t){delete installedChunks[t]}(t)}));var k,z,I=N.slice();for(;I.length>0;)if(h=I.pop(),d=O[h]){var D={},j=d.hot._disposeHandlers;for(c=0;c<j.length;c++)(s=j[c])(D);for(l[h]=D,d.hot.active=!1,delete O[h],delete w[h],c=0;c<d.children.length;c++){var V=O[d.children[c]];V&&((R=V.parents.indexOf(h))>=0&&V.parents.splice(R,1))}}for(h in w)if(Object.prototype.hasOwnProperty.call(w,h)&&(d=O[h]))for(z=w[h],c=0;c<z.length;c++)k=z[c],(R=d.children.indexOf(k))>=0&&d.children.splice(R,1);u("apply"),void 0!==m&&(r=m,m=void 0);for(h in g=void 0,x)Object.prototype.hasOwnProperty.call(x,h)&&(t[h]=x[h]);var _=null;for(h in w)if(Object.prototype.hasOwnProperty.call(w,h)&&(d=O[h])){z=w[h];var U=[];for(a=0;a<z.length;a++)if(k=z[a],s=d.hot._acceptedDependencies[k]){if(-1!==U.indexOf(s))continue;U.push(s)}for(a=0;a<U.length;a++){s=U[a];try{s(z)}catch(t){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:h,dependencyId:z[a],error:t}),i.ignoreErrored||_||(_=t)}}}for(a=0;a<L.length;a++){var P=L[a];h=P.module,n=P.parents,o=h;try{H(h)}catch(t){if("function"==typeof P.errorHandler)try{P.errorHandler(t)}catch(e){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:h,error:e,originalError:t}),i.ignoreErrored||_||(_=e),_||(_=t)}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:h,error:t}),i.ignoreErrored||_||(_=t)}}if(_)return u("fail"),Promise.reject(_);if(b)return e(i).then((function(t){return N.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t}));return u("idle"),new Promise((function(t){t(N)}))}(e=e||{})}function S(){if(b)return g||(g={}),b.forEach(T),b=void 0,!0}function T(e){Object.prototype.hasOwnProperty.call(g,e)||(g[e]=t[e])}var O={};function H(e){if(O[e])return O[e].exports;var o=O[e]={i:e,l:!1,exports:{},hot:c(e),parents:(s=n,n=[],s),children:[]};return t[e].call(o.exports,o,o.exports,a(e)),o.l=!0,o.exports}return H.m=t,H.c=O,H.d=function(t,e,o){H.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},H.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},H.t=function(t,e){if(1&e&&(t=H(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(H.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)H.d(o,i,function(e){return t[e]}.bind(null,i));return o},H.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return H.d(e,"a",e),e},H.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},H.p="",H.h=function(){return r},a(11)(H.s=11)}([function(e,o){e.exports=t},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 599.771429h877.714286v43.885714H73.142857zM336.457143 380.342857h43.885714v526.628572h-43.885714z m307.2 0h43.885714v526.628572h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.588571 87.588571 0 0 0 87.771429 87.771429h614.4a87.588571 87.588571 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857H204.8A131.657143 131.657143 0 0 0 73.142857 204.8v219.428571h877.714286v-219.428571A131.657143 131.657143 0 0 0 819.2 73.142857z m-219.428571 197.485714h-65.828572v65.828572h-43.885714v-65.828572h-65.828572v-43.885714h65.828572V160.914286h43.885714v65.828571h65.828572z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v44.068571H73.142857zM336.64 117.028571h43.885714v526.628572h-43.885714z m307.017143 0h44.068571v526.628572H643.657143zM73.142857 599.771429v219.428571a131.657143 131.657143 0 0 0 131.657143 131.657143h614.4a131.657143 131.657143 0 0 0 131.657143-131.657143v-219.428571z m526.628572 197.485714h-65.645715v65.828571H490.057143v-65.828571h-65.828572v-43.885714h65.828572v-65.828572h44.068571v65.828572h65.645715z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 336.64h526.628572v43.885714H73.142857zM73.142857 643.657143h526.628572v43.885714H73.142857zM336.457143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857h-219.428571v877.714286h219.428571a131.657143 131.657143 0 0 0 131.657143-131.657143V204.8A131.84 131.84 0 0 0 819.2 73.142857z m44.068571 460.982857h-65.828571v65.828572H753.371429v-65.828572h-65.828572V490.057143h65.828572v-65.828572h44.068571v65.828572h65.828571z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M380.342857 336.457143h526.811429v43.885714H380.342857z m0 307.2h526.811429v43.885714H380.342857zM643.657143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.582857A131.474286 131.474286 0 0 1 950.857143 204.8v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.588571 87.771429v614.4a87.588571 87.588571 0 0 0 87.588571 87.771429h614.582857a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM204.8 73.142857A131.657143 131.657143 0 0 0 73.142857 204.8v614.4a131.657143 131.657143 0 0 0 131.657143 131.657143h219.428571V73.142857z m131.84 460.8h-65.828571v65.828572h-43.885715v-65.828572h-65.828571v-43.885714h65.828571v-65.828572h43.885715v65.828572h65.828571z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-277.850505 5.559596v226.909091H375.725253V104.59798h272.420202zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v226.909091H103.434343V195.361616z m90.763637 726.367677c-24.048485 0-47.191919-9.567677-64.129293-26.634344-17.066667-17.066667-26.634343-40.080808-26.634344-64.129292V649.309091h226.909091v272.420202H194.19798z m181.527273 0V649.309091h272.290909v272.420202H375.725253z m544.711111-90.892929c0 24.048485-9.567677 47.191919-26.634344 64.129293-17.066667 17.066667-40.080808 26.634343-64.129293 26.634343H693.527273V649.309091h226.909091v181.527273zM693.527273 331.507071V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.145455H693.527273z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M336.457143 73.142857h43.885714v877.714286h-43.885714z m307.382857 0h43.702857v877.714286h-43.702857z m-438.857143 0h614.4A131.657143 131.657143 0 0 1 950.857143 204.8v614.4a131.474286 131.474286 0 0 1-131.474286 131.657143h-614.4A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.982857 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.771428 87.771429v614.4a87.588571 87.588571 0 0 0 87.771428 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v307.2H73.142857z m292.571429 43.885714v219.428572h292.571428v-219.428572z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.996 99.038c-25.47-25.6-60.121-39.822-96.323-39.822H194.198c-75.12 0.13-136.016 61.026-136.145 136.146v635.345c0 36.073 14.351 70.723 39.822 96.323 25.6 25.73 60.25 40.081 96.323 40.081h635.475c36.072 0 70.723-14.351 96.323-39.951 25.6-25.6 39.951-60.122 39.951-96.324V195.362c0-36.073-14.351-70.724-39.951-96.324z m-365.77 494.287L512 545.228l-48.226 48.097-32.194-31.935 48.355-48.226-48.226-48.097 32.194-32.194L512 480.97l48.097-48.097 32.194 32.194-48.097 48.097 48.226 48.226-32.194 31.935zM103.434 195.362c0-24.049 9.568-47.192 26.635-64.13 17.066-17.066 40.08-26.634 64.129-26.634h136.145v226.91H103.434V195.361z m0 181.656h226.91V649.31h-226.91V377.02z m90.764 544.84c-24.049 0-47.192-9.567-64.13-26.634-17.066-17.066-26.634-40.08-26.634-64.258V694.69h226.91v227.168H194.197z m726.238-90.763c0 24.048-9.438 47.192-26.505 64.259-17.066 17.066-40.21 26.634-64.258 26.505H693.527V694.69h226.91v136.404z m0-181.786H693.527V377.02h226.91v272.29zM693.527 331.507V104.598h136.146c24.048 0 47.192 9.438 64.258 26.505 17.067 17.067 26.635 40.21 26.505 64.259v136.145H693.527z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-550.270707 5.559596h272.290909v227.167677H375.725253V104.59798z m56.242424 360.468687l31.935353-32.19394 48.09697 48.226263 48.09697-48.226263 32.193939 32.19394-48.09697 48.096969 48.226263 48.226263-32.193939 31.935354-48.226263-48.09697-48.226263 48.09697-31.935353-31.935354 48.226262-48.226263-48.096969-48.096969zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v227.167677H103.434343V195.361616z m817.002021 635.733333c0 24.048485-9.567677 47.191919-26.634344 64.258586-17.066667 17.066667-40.080808 26.634343-64.129293 26.634344H194.19798c-24.048485 0-47.191919-9.567677-64.258586-26.634344C112.872727 878.157576 103.434343 855.014141 103.434343 830.836364V694.690909h226.909091v226.909091h45.381819V694.690909h272.290909v226.909091h45.381818V694.690909h226.909091v136.40404z m0-499.329292H693.527273V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.404041z"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M764.42168889 830.5152c0 30.23530667-24.61013333 54.84430222-54.84316444 54.84430222H314.42147555c-30.23416889 0-54.84316445-24.61013333-54.84316444-54.84430222V248.32796445h504.84337778v582.18723555zM369.26577778 149.89084445c0-6.32832 4.92202667-11.25034667 11.25034667-11.25034667H644.18702222c6.32832 0 11.25034667 4.92202667 11.25034667 11.25034667v33.04675555H369.26577778V149.89084445z m559.68768 33.04675555H720.82773333V149.89084445c0-42.1888-34.45191111-76.64071111-76.64071111-76.64071112H380.51612445c-42.1888 0-76.64071111 34.45191111-76.64071112 76.64071112v33.04675555h-208.82773333c-18.28181333 0-33.04789333 14.76608-33.04789333 33.04675555s14.76608 33.04675555 33.04675555 33.04675556h98.43825778v581.48408889c0 66.79779555 54.14001778 120.93781333 120.93667555 120.93781333h395.1570489c66.79665778 0 120.93667555-54.14001778 120.93667555-120.93781333V248.32796445h98.43825778c18.28067555 0 33.04675555-14.76494222 33.04675555-33.04675556s-14.76608-32.34360889-33.04675555-32.34360889zM512 786.21923555c18.28181333 0 33.04675555-14.76608 33.04675555-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675555-33.04675556s-33.04675555 14.76494222-33.04675555 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675555 33.04789333m-153.98456889 0c18.28181333 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0.70314667 18.28181333 15.46922667 33.04789333 33.04675556 33.04789333m307.96913778 0c18.28067555 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76608-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675556 33.04789333"/></svg>'},function(t,e){t.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg version=1.1 id=Layer_1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink x=0px y=0px class=icon width=20px height=20px viewBox="0 0 442.979 442.979" style="enable-background:new 0 0 442.979 442.979" xml:space=preserve> <g> <g> <g> <rect x=15.002 y=427.619 width=238.916 height=15.36 /> <rect x=138.38 y=149.538 transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 103.7642 454.7293)" width=15.36 height=112.673 /> <path d="M434.009,104.905c0-20.282-7.902-39.352-22.241-53.695l-28.959-28.966C368.462,7.898,349.389,0,329.097,0\n\t\t\t\tc-20.279,0-39.352,7.902-53.699,22.245l-14.747,14.753L42.762,254.88l5.433,5.433c18.962,18.965,18.961,49.823-0.006,68.79\n\t\t\t\tl-5.434,5.431l7.848,7.847L8.97,384.014L29.157,404.2h41.69l20.789-20.792l7.839,7.838l5.437-5.427\n\t\t\t\tc9.185-9.185,21.402-14.244,34.4-14.244c12.991,0,25.204,5.062,34.386,14.244l0,0l5.427,5.427l210.319-210.313l0,0l1.811-1.811\n\t\t\t\tl9.051-9.05l-0.001-0.001l11.463-11.465C426.11,144.265,434.009,125.191,434.009,104.905z M64.481,388.84H35.516l-4.826-4.826\n\t\t\t\tl30.774-30.774l19.309,19.307L64.481,388.84z M139.308,356.212c-14.514,0-28.286,4.796-39.509,13.633L64.157,334.21\n\t\t\t\tc10.158-12.933,14.633-28.908,13.411-44.52l66.714,66.714C142.636,356.277,140.974,356.212,139.308,356.212z M330.527,121.593\n\t\t\t\tl-37.629,37.629l-18.101-18.108l37.406-37.414l0.001,0.001l24.139-24.132l18.101,18.101L330.527,121.593z M179.127,369.526\n\t\t\t\tL64.486,254.879L263.939,55.436l0.656,0.656l36.749,36.749l-48.266,48.273l39.82,39.827l48.271-48.275l19.148,19.144\n\t\t\t\tl18.265,18.263L179.127,369.526z M389.445,159.214l-37.412-37.408l24.13-24.137l-39.82-39.82l-24.139,24.132l-37.407-37.407\n\t\t\t\tl11.459-11.469c11.448-11.438,26.662-17.743,42.841-17.743c16.193,0,31.406,6.298,42.848,17.743l28.966,28.966\n\t\t\t\tc11.438,11.445,17.739,26.658,17.739,42.837c0,16.183-6.298,31.399-17.739,42.844L389.445,159.214z"/> </g> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>'},function(t,e,o){t.exports=o(12)},function(t,e,o){"use strict";o.r(e);var i=o(0),r=o.n(i);function l(t,e){if("object"==typeof e)for(let o in e)t.style[o]=e[o]}function n(t,e){let o=e.getBoundingClientRect();return{x:t.x-o.x-e.scrollLeft,y:t.y-o.y-e.scrollTop,x1:t.x-o.x-e.scrollLeft+t.width,y1:t.y-o.y-e.scrollTop+t.height,width:t.width,height:t.height}}function s(t,e){return t&&Object.keys(t).reduce((o,i)=>e.includes(i)?o:Object.assign({},o,{[i]:t[i]}),{})}function a(t){let e;if(e=t.path||t.composedPath&&t.composedPath(),null==e&&t.target){e=[];let o=t.target;for(e.push(o);o&&o.parentNode;)o=o.parentNode,e.push(o)}return e}class c{constructor(t,e,o){if(!t)return null;this.table=t,this.quill=e,this.options=o,this.domNode=null,this.initColTool()}initColTool(){const t=this.quill.root.parentNode,e=(this.table.getBoundingClientRect(),t.getBoundingClientRect()),o=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-col-tool"),this.updateToolCells(),t.appendChild(this.domNode),l(this.domNode,{width:"".concat(o.width,"px"),height:"".concat(12,"px"),left:"".concat(o.left-e.left+t.scrollLeft,"px"),top:"".concat(o.top-e.top+t.scrollTop-12-5,"px")})}createToolCell(){const t=document.createElement("div");t.classList.add("qlbt-col-tool-cell");const e=document.createElement("div");return e.classList.add("qlbt-col-tool-cell-holder"),l(t,{height:"".concat(12,"px")}),t.appendChild(e),t}updateToolCells(){const t=r.a.find(this.table),e=t.children.tail.children.head.children,o=t.colGroup().children,i=function(t){return t.reduce((t,e)=>{const o=e.formats().colspan;return t+=parseInt(o,10)},0)}(e);let n=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"));for(let t=0;t<Math.max(i,n.length);t++){let e=o.at(t),r=e&&parseInt(e.formats()[e.statics.blotName].width,10),s=null;n[t]?n[t]&&t>=i?n[t].remove():(s=n[t],l(s,{"min-width":"".concat(r,"px")})):(s=this.createToolCell(),this.domNode.appendChild(s),this.addColCellHolderHandler(s),l(s,{"min-width":"".concat(r,"px")}))}}destroy(){return this.domNode.remove(),null}addColCellHolderHandler(t){const e=r.a.find(this.table),o=t.querySelector(".qlbt-col-tool-cell-holder");let i=!1,n=0,s=0,a=0,c=0,d={},h={},u=null;const p=t=>{t.preventDefault(),i&&(s=t.clientX,a=c+s-n>=50?s-n:50-c,l(u,{left:"".concat(h.left+h.width-1+a,"px")}))},g=r=>{r.preventDefault();const m=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell")).indexOf(t),b=e.colGroup().children.at(m);i&&(b.format("width",c+a),l(t,{"min-width":"".concat(c+a,"px")}),n=0,s=0,a=0,c=0,i=!1,o.classList.remove("dragging")),document.removeEventListener("mousemove",p,!1),document.removeEventListener("mouseup",g,!1),d={},h={},u.remove(),u=null,e.updateTableWidth();const f=this.quill.getModule("better-table").tableSelection;f&&f.clearSelection()};o.addEventListener("mousedown",e=>{document.addEventListener("mousemove",p,!1),document.addEventListener("mouseup",g,!1),d=this.table.getBoundingClientRect(),h=t.getBoundingClientRect(),u=document.createElement("div"),l(u,{position:"fixed",top:"".concat(h.top,"px"),left:"".concat(h.left+h.width-1,"px"),zIndex:"100",height:"".concat(d.height+12+4,"px"),width:"1px",backgroundColor:"#35A7ED"}),document.body.appendChild(u),i=!0,n=e.clientX,c=h.width,o.classList.add("dragging")},!1)}colToolCells(){return Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"))}}const d=r.a.import("blots/block");class h extends d{static create(t){"string"==typeof t&&(t={value:t});const e=super.create(t.value);return w.forEach(o=>{t[o]&&e.setAttribute("data-".concat(o),t[o])}),N.forEach(o=>{t[o]&&e.setAttribute("data-".concat(o),t[o])}),e}static formats(t){const e={};return e.value=this.tagName.indexOf(t.tagName)+1,N.concat(w).reduce((e,o)=>(t.hasAttribute("data-".concat(o))&&(e[o]=t.getAttribute("data-".concat(o))||void 0),e),e)}format(t,e){const{row:o,cell:i,rowspan:r,colspan:l}=h.formats(this.domNode);t===h.blotName?e?super.format(t,{value:e,row:o,cell:i,rowspan:r,colspan:l}):o?this.replaceWith(v.blotName,{row:o,cell:i,rowspan:r,colspan:l}):super.format(t,e):super.format(t,e)}optimize(t){const{row:e,rowspan:o,colspan:i}=h.formats(this.domNode);if(!e||this.parent instanceof A||this.wrap(A.blotName,{row:e,colspan:i,rowspan:o}),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove();this.cache={}}}h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"];var u=h;const p=r.a.import("blots/break"),g=r.a.import("blots/block"),m=r.a.import("blots/container"),b=["width"],f={width:100},w=["row","cell"],N=["rowspan","colspan"],x={rowspan:1,colspan:1};class v extends g{static create(t){const e=super.create(t);return w.forEach(o=>{let i="row"===o?I:D;e.setAttribute("data-".concat(o),t[o]||i())}),N.forEach(o=>{e.setAttribute("data-".concat(o),t[o]||x[o])}),t["cell-bg"]&&e.setAttribute("data-cell-bg",t["cell-bg"]),t["cell-highlight"]&&e.setAttribute("data-cell-highlight",t["cell-highlight"]),e}static formats(t){return N.concat(w).concat(["cell-bg","cell-highlight"]).reduce((e,o)=>(t.hasAttribute("data-".concat(o))&&(e[o]=t.getAttribute("data-".concat(o))||void 0),e),{})}format(t,e){if(N.concat(w).indexOf(t)>-1)e?this.domNode.setAttribute("data-".concat(t),e):this.domNode.removeAttribute("data-".concat(t));else if("cell-bg"===t)e?this.domNode.setAttribute("data-cell-bg",e):this.domNode.removeAttribute("data-cell-bg");else if("cell-highlight"===t)e?this.domNode.setAttribute("data-cell-highlight",e):this.domNode.removeAttribute("data-cell-highlight");else if("header"===t){if(!e)return;const{row:o,cell:i,rowspan:r,colspan:l}=v.formats(this.domNode);super.format(t,{value:e,row:o,cell:i,rowspan:r,colspan:l})}else super.format(t,e)}optimize(t){const e=this.domNode.getAttribute("data-row"),o=this.domNode.getAttribute("data-rowspan"),i=this.domNode.getAttribute("data-colspan"),r=this.domNode.getAttribute("data-cell-bg"),l=this.domNode.getAttribute("data-cell-highlight");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:e,colspan:i,rowspan:o,"cell-bg":r,"cell-highlight":l}),super.optimize(t)}tableCell(){return this.parent}}v.blotName="table-cell-line",v.ClassName="qlbt-cell-line",v.tagName="DIV";class y extends g{static create(t){const e=super.create(t);return w.forEach(o=>{let i="row"===o?I:D;e.setAttribute("data-".concat(o),t[o]||i())}),N.forEach(o=>{e.setAttribute("data-".concat(o),t[o]||x[o])}),t["cell-bg"]&&e.setAttribute("data-cell-bg",t["cell-bg"]),t["cell-highlight"]&&e.setAttribute("data-cell-highlight",t["cell-highlight"]),e}static formats(t){return N.concat(w).concat(["cell-bg","cell-highlight"]).reduce((e,o)=>(t.hasAttribute("data-".concat(o))&&(e[o]=t.getAttribute("data-".concat(o))||void 0),e),{})}format(t,e){if(N.concat(w).indexOf(t)>-1)e?this.domNode.setAttribute("data-".concat(t),e):this.domNode.removeAttribute("data-".concat(t));else if("cell-bg"===t)e?this.domNode.setAttribute("data-cell-bg",e):this.domNode.removeAttribute("data-cell-bg");else if("cell-highlight"===t)e?this.domNode.setAttribute("data-cell-highlight",e):this.domNode.removeAttribute("data-cell-highlight");else if("header"===t){if(!e)return;const{row:o,cell:i,rowspan:r,colspan:l}=v.formats(this.domNode);super.format(t,{value:e,row:o,cell:i,rowspan:r,colspan:l})}else super.format(t,e)}optimize(t){const e=this.domNode.getAttribute("data-row"),o=this.domNode.getAttribute("data-rowspan"),i=this.domNode.getAttribute("data-colspan"),r=this.domNode.getAttribute("data-cell-bg"),l=this.domNode.getAttribute("data-cell-highlight");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:e,colspan:i,rowspan:o,"cell-bg":r,"cell-highlight":l}),super.optimize(t)}tableCell(){return this.parent}}y.blotName="table-cell-head-line",y.ClassName="qlbt-cell-head-line",y.tagName="DIV";class C extends g{static create(t){const e=super.create(t);return w.forEach(o=>{let i="row"===o?I:D;e.setAttribute("data-".concat(o),t[o]||i())}),N.forEach(o=>{e.setAttribute("data-".concat(o),t[o]||x[o])}),t["cell-bg"]&&e.setAttribute("data-cell-bg",t["cell-bg"]),t["cell-highlight"]&&e.setAttribute("data-cell-highlight",t["cell-highlight"]),e}static formats(t){return N.concat(w).concat(["cell-bg","cell-highlight"]).reduce((e,o)=>(t.hasAttribute("data-".concat(o))&&(e[o]=t.getAttribute("data-".concat(o))||void 0),e),{})}format(t,e){if(N.concat(w).indexOf(t)>-1)e?this.domNode.setAttribute("data-".concat(t),e):this.domNode.removeAttribute("data-".concat(t));else if("cell-bg"===t)e?this.domNode.setAttribute("data-cell-bg",e):this.domNode.removeAttribute("data-cell-bg");else if("cell-highlight"===t)e?this.domNode.setAttribute("data-cell-highlight",e):this.domNode.removeAttribute("data-cell-highlight");else if("header"===t){if(!e)return;const{row:o,cell:i,rowspan:r,colspan:l}=v.formats(this.domNode);super.format(t,{value:e,row:o,cell:i,rowspan:r,colspan:l})}else super.format(t,e)}optimize(t){const e=this.domNode.getAttribute("data-row"),o=this.domNode.getAttribute("data-rowspan"),i=this.domNode.getAttribute("data-colspan"),r=this.domNode.getAttribute("data-cell-bg"),l=this.domNode.getAttribute("data-cell-highlight");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:e,colspan:i,rowspan:o,"cell-bg":r,"cell-highlight":l}),super.optimize(t)}tableCell(){return this.parent}}C.blotName="table-cell-foot-line",C.ClassName="qlbt-cell-foot-line",C.tagName="DIV";class A extends m{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats()[this.children.head.statics.blotName],e=this.children.tail.formats()[this.children.tail.statics.blotName],o=this.next.children.head.formats()[this.next.children.head.statics.blotName],i=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return t.cell===e.cell&&t.cell===o.cell&&t.cell===i.cell}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),N.forEach(o=>{t[o]&&e.setAttribute(o,t[o])}),t["cell-bg"]&&(e.setAttribute("data-cell-bg",t["cell-bg"]),e.style.backgroundColor=t["cell-bg"]),t["cell-highlight"]&&e.setAttribute("data-cell-highlight",t["cell-highlight"]),e}static formats(t){const e={};return t.hasAttribute("data-row")&&(e.row=t.getAttribute("data-row")),t.hasAttribute("data-cell-bg")&&(e["cell-bg"]=t.getAttribute("data-cell-bg")),t.hasAttribute("data-cell-highlight")&&(e["cell-highlight"]=t.getAttribute("data-cell-highlight")),N.reduce((e,o)=>(t.hasAttribute(o)&&(e[o]=t.getAttribute(o)),e),e)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){const t={};return this.domNode.hasAttribute("data-row")&&(t.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(t["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),this.domNode.hasAttribute("data-cell-highlight")&&(t["cell-highlight"]=this.domNode.getAttribute("data-cell-highlight")),N.reduce((t,e)=>(this.domNode.hasAttribute(e)&&(t[e]=this.domNode.getAttribute(e)),t),t)}toggleAttribute(t,e){e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t)}toggleHighlight(){"true"==this.domNode.getAttribute("data-cell-highlight")?this.domNode.setAttribute("data-cell-highlight","false"):this.domNode.setAttribute("data-cell-highlight","true")}formatChildren(t,e){this.children.forEach(o=>{o.format(t,e)})}format(t,e){N.indexOf(t)>-1?(this.toggleAttribute(t,e),this.formatChildren(t,e)):["row"].indexOf(t)>-1?(this.toggleAttribute("data-".concat(t),e),this.formatChildren(t,e)):"cell-bg"===t?(this.toggleAttribute("data-cell-bg",e),this.formatChildren(t,e),this.domNode.style.backgroundColor=e||"initial"):"cell-highlight"===t?(this.toggleHighlight(),this.formatChildren(t,e)):super.format(t,e)}optimize(t){const e=this.domNode.getAttribute("data-row");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:e}),super.optimize(t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}A.blotName="table",A.tagName="TD";class q extends m{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats()[this.children.head.statics.blotName],e=this.children.tail.formats()[this.children.tail.statics.blotName],o=this.next.children.head.formats()[this.next.children.head.statics.blotName],i=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return t.cell===e.cell&&t.cell===o.cell&&t.cell===i.cell}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),N.forEach(o=>{t[o]&&e.setAttribute(o,t[o])}),t["cell-bg"]&&(e.setAttribute("data-cell-bg",t["cell-bg"]),e.style.backgroundColor=t["cell-bg"]),t["cell-highlight"]&&e.setAttribute("data-cell-highlight",t["cell-highlight"]),e}static formats(t){const e={};return t.hasAttribute("data-row")&&(e.row=t.getAttribute("data-row")),t.hasAttribute("data-cell-bg")&&(e["cell-bg"]=t.getAttribute("data-cell-bg")),t.hasAttribute("data-cell-highlight")&&(e["cell-highlight"]=t.getAttribute("data-cell-highlight")),N.reduce((e,o)=>(t.hasAttribute(o)&&(e[o]=t.getAttribute(o)),e),e)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){const t={};return this.domNode.hasAttribute("data-row")&&(t.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(t["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),this.domNode.hasAttribute("data-cell-highlight")&&(t["cell-highlight"]=this.domNode.getAttribute("data-cell-highlight")),N.reduce((t,e)=>(this.domNode.hasAttribute(e)&&(t[e]=this.domNode.getAttribute(e)),t),t)}toggleAttribute(t,e){e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t)}toggleHighlight(){"true"==this.domNode.getAttribute("data-cell-highlight")?this.domNode.setAttribute("data-cell-highlight","false"):this.domNode.setAttribute("data-cell-highlight","true")}formatChildren(t,e){this.children.forEach(o=>{o.format(t,e)})}format(t,e){N.indexOf(t)>-1?(this.toggleAttribute(t,e),this.formatChildren(t,e)):["row"].indexOf(t)>-1?(this.toggleAttribute("data-".concat(t),e),this.formatChildren(t,e)):"cell-bg"===t?(this.toggleAttribute("data-cell-bg",e),this.formatChildren(t,e),this.domNode.style.backgroundColor=e||"initial"):"cell-highlight"===t?(this.toggleHighlight(),this.formatChildren(t,e)):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}q.blotName="tableHead",q.tagName="TH";class E extends m{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats()[this.children.head.statics.blotName],e=this.children.tail.formats()[this.children.tail.statics.blotName],o=this.next.children.head.formats()[this.next.children.head.statics.blotName],i=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return t.cell===e.cell&&t.cell===o.cell&&t.cell===i.cell}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),N.forEach(o=>{t[o]&&e.setAttribute(o,t[o])}),t["cell-bg"]&&(e.setAttribute("data-cell-bg",t["cell-bg"]),e.style.backgroundColor=t["cell-bg"]),t["cell-highlight"]&&e.setAttribute("data-cell-highlight",t["cell-highlight"]),e}static formats(t){const e={};return t.hasAttribute("data-row")&&(e.row=t.getAttribute("data-row")),t.hasAttribute("data-cell-bg")&&(e["cell-bg"]=t.getAttribute("data-cell-bg")),t.hasAttribute("data-cell-highlight")&&(e["cell-highlight"]=t.getAttribute("data-cell-highlight")),N.reduce((e,o)=>(t.hasAttribute(o)&&(e[o]=t.getAttribute(o)),e),e)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){const t={};return this.domNode.hasAttribute("data-row")&&(t.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(t["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),this.domNode.hasAttribute("data-cell-highlight")&&(t["cell-highlight"]=this.domNode.getAttribute("data-cell-highlight")),N.reduce((t,e)=>(this.domNode.hasAttribute(e)&&(t[e]=this.domNode.getAttribute(e)),t),t)}toggleAttribute(t,e){e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t)}toggleHighlight(){"true"==this.domNode.getAttribute("data-cell-highlight")?this.domNode.setAttribute("data-cell-highlight","false"):this.domNode.setAttribute("data-cell-highlight","true")}formatChildren(t,e){this.children.forEach(o=>{o.format(t,e)})}format(t,e){N.indexOf(t)>-1?(this.toggleAttribute(t,e),this.formatChildren(t,e)):["row"].indexOf(t)>-1?(this.toggleAttribute("data-".concat(t),e),this.formatChildren(t,e)):"cell-bg"===t?(this.toggleAttribute("data-cell-bg",e),this.formatChildren(t,e),this.domNode.style.backgroundColor=e||"initial"):"cell-highlight"===t?(this.toggleHighlight(),this.formatChildren(t,e)):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}E.blotName="tableFoot",E.tagName="TD";class S extends m{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats(),e=this.children.tail.formats(),o=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.row===e.row&&t.row===o.row&&t.row===i.row}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),e}formats(){return["row"].reduce((t,e)=>(this.domNode.hasAttribute("data-".concat(e))&&(t[e]=this.domNode.getAttribute("data-".concat(e))),t),{})}optimize(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}S.blotName="table-row",S.tagName="TR";class T extends m{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats(),e=this.children.tail.formats(),o=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.row===e.row&&t.row===o.row&&t.row===i.row}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),e}formats(){return["row"].reduce((t,e)=>(this.domNode.hasAttribute("data-".concat(e))&&(t[e]=this.domNode.getAttribute("data-".concat(e))),t),{})}optimize(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}T.blotName="table-head-row",T.tagName="TR";class O extends m{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats(),e=this.children.tail.formats(),o=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.row===e.row&&t.row===o.row&&t.row===i.row}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),e}formats(){return["row"].reduce((t,e)=>(this.domNode.hasAttribute("data-".concat(e))&&(t[e]=this.domNode.getAttribute("data-".concat(e))),t),{})}optimize(t){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}O.blotName="table-foot-row",O.tagName="TR";class H extends m{}H.blotName="table-body",H.tagName="TBODY";class M extends m{}M.blotName="table-head",M.tagName="THEAD";class B extends m{}B.blotName="table-foot",B.tagName="TFOOT";class R extends g{static create(t){let e=super.create(t);return b.forEach(o=>{e.setAttribute("".concat(o),t[o]||f[o])}),e}static formats(t){return b.reduce((e,o)=>(t.hasAttribute("".concat(o))&&(e[o]=t.getAttribute("".concat(o))||void 0),e),{})}format(t,e){b.indexOf(t)>-1?this.domNode.setAttribute("".concat(t),e||f[t]):super.format(t,e)}html(){return this.domNode.outerHTML}}R.blotName="table-col",R.tagName="col";class L extends m{}L.blotName="table-col-group",L.tagName="colgroup";class k extends m{static create(){return super.create()}constructor(t,e){super(t,e),this.updateTableWidth()}updateTableWidth(){setTimeout(()=>{const t=this.colGroup();if(!t)return;const e=t.children.reduce((t,e)=>t+=parseInt(e.formats()[R.blotName].width,10),0);this.domNode.style.width="".concat(e,"px")},0)}cells(t){return this.rows().map(e=>e.children.at(t))}colGroup(){return this.children.head}deleteColumns(t,e=[],o){const[i]=this.descendants(H);if(null==i||null==i.children.head)return;const r=this.descendants(A),l=[],s=[];if(r.forEach(e=>{const i=n(e.domNode.getBoundingClientRect(),o);i.x+5>t.x&&i.x1-5<t.x1?l.push(e):i.x<t.x+5&&i.x1>t.x1-5&&s.push(e)}),l.length===r.length)return this.tableDestroy(),!0;e.forEach(t=>{this.colGroup().children.at(e[0]).remove()}),l.forEach(t=>{t.remove()}),s.forEach(t=>{const o=parseInt(t.formats().colspan,10);parseInt(t.formats().width,10);t.format("colspan",o-e.length)}),this.updateTableWidth()}deleteRow(t,e){const[o]=this.descendants(H);if(null==o||null==o.children.head)return;const i=this.descendants(A),r=this.descendants(S),l=[],s=[],a=[],c=r.filter(o=>{const i=n(o.domNode.getBoundingClientRect(),e);return i.y>t.y-5&&i.y1<t.y1+5});if(i.forEach(o=>{const i=n(o.domNode.getBoundingClientRect(),e);i.y>t.y-5&&i.y1<t.y1+5?l.push(o):i.y<t.y+5&&i.y1>t.y1-5&&(s.push(o),Math.abs(i.y-t.y)<5&&a.push(o))}),l.length===i.length)return void this.tableDestroy();const d=this.rows().reduce((o,i)=>{let r=n(i.domNode.getBoundingClientRect(),e);return r.y>t.y-5&&r.y1<t.y1+5&&(o+=1),o},0);a.forEach(t=>{const o=n(t.domNode.getBoundingClientRect(),e),i=t.parent.next,r=i.children.reduce((t,i)=>{const r=n(i.domNode.getBoundingClientRect(),e);return Math.abs(o.x1-r.x)<5&&(t=i),t},null);i.insertBefore(t,r),t.format("row",i.formats().row)}),l.forEach(t=>{t.remove()}),s.forEach(t=>{const e=parseInt(t.formats().rowspan,10);t.format("rowspan",e-d)}),c.forEach(t=>t.remove())}tableDestroy(){const t=r.a.find(this.scroll.domNode.parentNode),e=t.getModule("better-table");this.remove(),e.hideTableTools(),t.update(r.a.sources.USER)}insertCell(t,e){const o=D(),i=t.formats().row,r=this.scroll.create(A.blotName,Object.assign({},x,{row:i})),l=this.scroll.create(v.blotName,{row:i,cell:o});r.appendChild(l),e?t.insertBefore(r,e):t.appendChild(r)}insertColumn(t,e,o=!0,i){const[r]=this.descendants(H),[l]=this.descendants(L),s=this.descendants(R);let a=[],c=[],d=[];if(null==r||null==r.children.head)return;this.descendants(A).forEach(e=>{const r=n(e.domNode.getBoundingClientRect(),i);o?Math.abs(r.x1-t.x1)<5?a.push(e):t.x1-r.x>5&&t.x1-r.x1<-5&&c.push(e):Math.abs(r.x-t.x)<5?a.push(e):t.x-r.x>5&&t.x-r.x1<-5&&c.push(e)}),a.forEach(t=>{const e=o?t.next:t,i=D(),r=t.parent,l=r.formats().row,n=t.formats(),s=this.scroll.create(A.blotName,Object.assign({},x,{row:l,rowspan:n.rowspan})),a=this.scroll.create(v.blotName,{row:l,cell:i,rowspan:n.rowspan});s.appendChild(a),e?r.insertBefore(s,e):r.appendChild(s),d.push(s)});const h=this.scroll.create(R.blotName,!0);let u=o?s[e].next:s[e];return u?l.insertBefore(h,u):l.appendChild(h),c.forEach(t=>{const e=t.formats().colspan;t.format("colspan",parseInt(e,10)+1),d.push(t)}),d.sort((t,e)=>t.domNode.getBoundingClientRect().y-e.domNode.getBoundingClientRect().y),this.updateTableWidth(),d}insertHead(t){const[e]=this.descendants(H);if(null==e||null==e.children.head)return;const o=this.descendants(A),i=I(),r=this.scroll.create(T.blotName,{row:i}),l=this.scroll.create(M.blotName),s=n(o[0].domNode.getBoundingClientRect(),t);let a=[],c=[],d=[];o.forEach(e=>{const o=n(e.domNode.getBoundingClientRect(),t);Math.abs(o.y-s.y)<5?a.push(e):s.y-o.y>5&&s.y-o.y1<-5&&c.push(e)});const h=(t,e)=>t.domNode.getBoundingClientRect().x-e.domNode.getBoundingClientRect().x;return a.sort(h),a.forEach(t=>{const e=D(),o=t.formats(),n=this.scroll.create(q.blotName,Object.assign({},x,{row:i,colspan:o.colspan})),s=this.scroll.create(y.blotName,{row:i,cell:e,colspan:o.colspan}),a=this.scroll.create(p.blotName);s.appendChild(a),n.appendChild(s),r.appendChild(n),l.appendChild(r),d.push(n)}),c.forEach(t=>{const e=parseInt(t.formats().rowspan,10);t.format("rowspan",e+1),d.push(t)}),e.parent.insertBefore(l,e),d.sort(h),d}insertFootRow(t){const[e]=this.descendants(H);if(null==e||null==e.children.head)return;const o=this.descendants(A),i=I(),r=this.scroll.create(O.blotName,{row:i}),l=this.scroll.create(B.blotName);let s=[],a=[],c=[];const d=n(o[o.length-1].domNode.getBoundingClientRect(),t);o.forEach(e=>{const o=n(e.domNode.getBoundingClientRect(),t);Math.abs(o.y1-d.y1)<5?s.push(e):d.y1-o.y>5&&d.y1-o.y1<-5&&a.push(e)});const h=(t,e)=>t.domNode.getBoundingClientRect().x-e.domNode.getBoundingClientRect().x;return s.sort(h),s.forEach(t=>{const e=D(),o=t.formats(),n=this.scroll.create(E.blotName,Object.assign({},x,{row:i,colspan:o.colspan})),s=this.scroll.create(C.blotName,{row:i,cell:e,colspan:o.colspan}),a=this.scroll.create(p.blotName);s.appendChild(a),n.appendChild(s),r.appendChild(n),l.appendChild(r),c.push(n)}),a.forEach(t=>{const e=parseInt(t.formats().rowspan,10);t.format("rowspan",e+1),c.push(t)}),e.parent.appendChild(l),c.sort(h),c}insertRow(t,e,o){const[i]=this.descendants(H);if(null==i||null==i.children.head)return;const r=this.descendants(A),l=I(),s=this.scroll.create(S.blotName,{row:l});let a=[],c=[],d=[];r.forEach(i=>{const r=n(i.domNode.getBoundingClientRect(),o);e?Math.abs(r.y1-t.y1)<5?a.push(i):t.y1-r.y>5&&t.y1-r.y1<-5&&c.push(i):Math.abs(r.y-t.y)<5?a.push(i):t.y-r.y>5&&t.y-r.y1<-5&&c.push(i)});const h=(t,e)=>t.domNode.getBoundingClientRect().x-e.domNode.getBoundingClientRect().x;a.sort(h),a.forEach(t=>{const e=D(),o=t.formats(),i=this.scroll.create(A.blotName,Object.assign({},x,{row:l,colspan:o.colspan})),r=this.scroll.create(v.blotName,{row:l,cell:e,colspan:o.colspan}),n=this.scroll.create(p.blotName);r.appendChild(n),i.appendChild(r),s.appendChild(i),d.push(i)}),c.forEach(t=>{const e=parseInt(t.formats().rowspan,10);t.format("rowspan",e+1),d.push(t)});const u=this.rows().find(i=>{let r=n(i.domNode.getBoundingClientRect(),o);return e?Math.abs(r.y-t.y-t.height)<5:Math.abs(r.y-t.y)<5});return i.insertBefore(s,u),d.sort(h),d}mergeCells(t,e,o,i,r){const l=e.reduce((t,e,r)=>(0!==r?(t&&e.moveChildren(t),e.remove()):(e.format("colspan",i),e.format("rowspan",o),t=e),t),null);let n=l.domNode.getAttribute("data-row"),s=l.children.head.domNode.getAttribute("data-cell");return l.children.forEach(t=>{t.format("cell",s),t.format("row",n),t.format("colspan",i),t.format("rowspan",o)}),l}unmergeCells(t,e){let o={},i=1,r=1;t.forEach(t=>{if(o=t.formats(),i=o.rowspan,r=o.colspan,r>1){let e=t.next,o=t.row();t.format("colspan",1);for(let t=r;t>1;t--)this.insertCell(o,e)}if(i>1){let o=i,l=t.row().next;for(;o>1;){let i=l.children.reduce((o,i)=>{let r=n(t.domNode.getBoundingClientRect(),e),l=n(i.domNode.getBoundingClientRect(),e);return Math.abs(r.x1-l.x)<5&&(o=i),o},null);for(let t=r;t>0;t--)this.insertCell(l,i);o-=1,l=l.next}t.format("rowspan",1)}})}rows(){const t=this.children.tail;return null==t?[]:t.children.map(t=>t)}}k.blotName="table-container",k.className="quill-better-table",k.tagName="TABLE";class z extends m{constructor(t,e){super(t,e);const o=r.a.find(t.domNode.parentNode);e.addEventListener("scroll",t=>{const e=o.getModule("better-table");e.columnTool&&(e.columnTool.domNode.scrollLeft=t.target.scrollLeft),e.tableSelection&&e.tableSelection.selectedTds.length>0&&e.tableSelection.repositionHelpLines()},!1)}table(){return this.children.head}}function I(){const t=Math.random().toString(36).slice(2,6);return"row-".concat(t)}function D(){const t=Math.random().toString(36).slice(2,6);return"cell-".concat(t)}z.blotName="table-view",z.className="quill-better-table-wrapper",z.tagName="DIV",z.allowedChildren=[k],k.requiredContainer=z,k.allowedChildren=[H,L,M,B],H.requiredContainer=k,M.allowedChildren=[T],M.requiredContainer=k,B.allowedChildren=[O],B.requiredContainer=k,T.allowedChildren=[q],T.requiredContainer=M,O.allowedChildren=[E],O.requiredContainer=B,H.allowedChildren=[S],S.requiredContainer=H,S.allowedChildren=[A],A.requiredContainer=S,A.allowedChildren=[v,u],v.requiredContainer=A,q.allowedChildren=[y,u],y.requiredContainer=q,E.allowedChildren=[C,u],C.requiredContainer=E,L.allowedChildren=[R],L.requiredContainer=k,R.requiredContainer=L;const j=["left","right","top","bottom"];class V{constructor(t,e,o){if(!t)return null;this.table=t,this.quill=e,this.options=o,this.boundary={},this.selectedTds=[],this.dragging=!1,this.selectingHandler=this.mouseDownHandler.bind(this),this.clearSelectionHandler=this.clearSelection.bind(this),this.helpLinesInitial(),this.quill.root.addEventListener("mousedown",this.selectingHandler,!1),this.quill.on("text-change",this.clearSelectionHandler)}helpLinesInitial(){let t=this.quill.root.parentNode;j.forEach(e=>{this[e]=document.createElement("div"),this[e].classList.add("qlbt-selection-line"),this[e].classList.add("qlbt-selection-line-"+e),l(this[e],{position:"absolute",display:"none","background-color":"#0589f3"}),t.appendChild(this[e])})}mouseDownHandler(t){if(0!==t.button||!t.target.closest(".quill-better-table"))return;this.quill.root.addEventListener("mousemove",r,!1),this.quill.root.addEventListener("mouseup",(function t(o){e.quill.root.removeEventListener("mousemove",r,!1),e.quill.root.removeEventListener("mouseup",t,!1),e.dragging=!1}),!1);const e=this,o=t.target.closest("td[data-row],th[data-row]"),i=n(o.getBoundingClientRect(),this.quill.root.parentNode);function r(t){if(0!==t.button||!t.target.closest(".quill-better-table"))return;const r=t.target.closest("td[data-row],th[data-row]"),l=n(r.getBoundingClientRect(),e.quill.root.parentNode);e.boundary=_(i,l),e.correctBoundary(),e.selectedTds=e.computeSelectedTds(),e.repositionHelpLines(),o!==r&&e.quill.blur()}this.dragging=!0,this.boundary=_(i,i),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}correctBoundary(){r.a.find(this.table).descendants(A).forEach(t=>{let{x:e,y:o,width:i,height:r}=n(t.domNode.getBoundingClientRect(),this.quill.root.parentNode);(e+2>=this.boundary.x&&e+2<=this.boundary.x1||e-2+i>=this.boundary.x&&e-2+i<=this.boundary.x1)&&(o+2>=this.boundary.y&&o+2<=this.boundary.y1||o-2+r>=this.boundary.y&&o-2+r<=this.boundary.y1)&&(this.boundary=_(this.boundary,{x:e,y:o,width:i,height:r}))})}computeSelectedTds(){const t=r.a.find(this.table);return[...t.descendants(A),...t.descendants(q)].reduce((t,e)=>{let{x:o,y:i,width:r,height:l}=n(e.domNode.getBoundingClientRect(),this.quill.root.parentNode);return o+2>=this.boundary.x&&o-2+r<=this.boundary.x1&&i+2>=this.boundary.y&&i-2+l<=this.boundary.y1&&t.push(e),t},[])}repositionHelpLines(){const t=this.table.parentNode.scrollLeft;l(this.left,{display:"block",left:"".concat(this.boundary.x-t-1,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),l(this.right,{display:"block",left:"".concat(this.boundary.x1-t,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),l(this.top,{display:"block",left:"".concat(this.boundary.x-1-t,"px"),top:"".concat(this.boundary.y,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"}),l(this.bottom,{display:"block",left:"".concat(this.boundary.x-1-t,"px"),top:"".concat(this.boundary.y1+1,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"})}refreshHelpLinesPosition(){const t=n(this.selectedTds[0].domNode.getBoundingClientRect(),this.quill.root.parentNode),e=n(this.selectedTds[this.selectedTds.length-1].domNode.getBoundingClientRect(),this.quill.root.parentNode);this.boundary=_(t,e),this.repositionHelpLines()}destroy(){return j.forEach(t=>{this[t].remove(),this[t]=null}),this.quill.root.removeEventListener("mousedown",this.selectingHandler,!1),this.quill.off("text-change",this.clearSelectionHandler),null}setSelection(t,e){this.boundary=_(n(t,this.quill.root.parentNode),n(e,this.quill.root.parentNode)),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}clearSelection(){this.boundary={},this.selectedTds=[],j.forEach(t=>{this[t]&&l(this[t],{display:"none"})})}}function _(t,e){let o=Math.min(t.x,e.x,t.x+t.width-1,e.x+e.width-1),i=Math.max(t.x,e.x,t.x+t.width-1,e.x+e.width-1),r=Math.min(t.y,e.y,t.y+t.height-1,e.y+e.height-1),l=Math.max(t.y,e.y,t.y+t.height-1,e.y+e.height-1);return{x:o,x1:i,y:r,y1:l,width:i-o,height:l-r}}var U=o(3),P=o.n(U),W=o(4),G=o.n(W),F=o(1),X=o.n(F),K=o(2),Y=o.n(K),$=o(5),J=o.n($),Q=o(6),Z=o.n(Q),tt=o(7),et=o.n(tt),ot=o(8),it=o.n(ot),rt=o(9),lt=o.n(rt),nt=o(10),st=o.n(nt);const at=["white","red","yellow","blue"],ct={insertColumnRight:{text:"Insert column right",iconSrc:P.a,handler(){const t=r.a.find(this.table);let e=ht(this.columnToolCells,this.boundary,(t,e)=>Math.abs(t.x+t.width-e.x1)<=5,this.quill.root.parentNode);const o=t.insertColumn(this.boundary,e,!0,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(r.a.sources.USER),this.quill.setSelection(this.quill.getIndex(o[0]),0,r.a.sources.SILENT),this.tableSelection.setSelection(o[0].domNode.getBoundingClientRect(),o[0].domNode.getBoundingClientRect())}},insertColumnLeft:{text:"Insert column left",iconSrc:G.a,handler(){const t=r.a.find(this.table);let e=ht(this.columnToolCells,this.boundary,(t,e)=>Math.abs(t.x-e.x)<=5,this.quill.root.parentNode);const o=t.insertColumn(this.boundary,e,!1,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(r.a.sources.USER),this.quill.setSelection(this.quill.getIndex(o[0]),0,r.a.sources.SILENT),this.tableSelection.setSelection(o[0].domNode.getBoundingClientRect(),o[0].domNode.getBoundingClientRect())}},insertRowUp:{text:"Insert row up",iconSrc:X.a,handler(){const t=r.a.find(this.table).insertRow(this.boundary,!1,this.quill.root.parentNode);this.quill.update(r.a.sources.USER),this.quill.setSelection(this.quill.getIndex(t[0]),0,r.a.sources.SILENT),this.tableSelection.setSelection(t[0].domNode.getBoundingClientRect(),t[0].domNode.getBoundingClientRect())}},insertRowDown:{text:"Insert row down",iconSrc:Y.a,handler(){const t=r.a.find(this.table).insertRow(this.boundary,!0,this.quill.root.parentNode);this.quill.update(r.a.sources.USER),this.quill.setSelection(this.quill.getIndex(t[0]),0,r.a.sources.SILENT),this.tableSelection.setSelection(t[0].domNode.getBoundingClientRect(),t[0].domNode.getBoundingClientRect())}},insertHeader:{text:"Insert Header Row",iconSrc:X.a,handler(){const t=r.a.find(this.table).insertHead(this.quill.root.parentNode);this.quill.update(r.a.sources.USER),this.quill.setSelection(this.quill.getIndex(t[0]),0,r.a.sources.SILENT),this.tableSelection.setSelection(t[0].domNode.getBoundingClientRect(),t[0].domNode.getBoundingClientRect())}},insertFooter:{text:"Insert Footer Row",iconSrc:Y.a,handler(){const t=r.a.find(this.table).insertFootRow(this.quill.root.parentNode);this.quill.update(r.a.sources.USER),this.quill.setSelection(this.quill.getIndex(t[0]),0,r.a.sources.SILENT),this.tableSelection.setSelection(t[0].domNode.getBoundingClientRect(),t[0].domNode.getBoundingClientRect())}},mergeCells:{text:"Merge selected cells",iconSrc:J.a,handler(){const t=r.a.find(this.table),e=t.rows().reduce((t,e)=>{let o=n(e.domNode.getBoundingClientRect(),this.quill.root.parentNode);return o.y>this.boundary.y-5&&o.y+o.height<this.boundary.y+this.boundary.height+5&&(t+=1),t},0),o=this.columnToolCells.reduce((t,e)=>{let o=n(e.getBoundingClientRect(),this.quill.root.parentNode);return o.x>this.boundary.x-5&&o.x+o.width<this.boundary.x+this.boundary.width+5&&(t+=1),t},0),i=t.mergeCells(this.boundary,this.selectedTds,e,o,this.quill.root.parentNode);this.quill.update(r.a.sources.USER),this.tableSelection.setSelection(i.domNode.getBoundingClientRect(),i.domNode.getBoundingClientRect())}},unmergeCells:{text:"Unmerge cells",iconSrc:Z.a,handler(){r.a.find(this.table).unmergeCells(this.selectedTds,this.quill.root.parentNode),this.quill.update(r.a.sources.USER),this.tableSelection.clearSelection()}},deleteColumn:{text:"Delete selected columns",iconSrc:et.a,handler(){const t=r.a.find(this.table);let e=function(t,e,o,i){return t.reduce((r,l)=>{let s=n(l.getBoundingClientRect(),i);return o(s,e)&&r.push(t.indexOf(l)),r},[])}(this.columnToolCells,this.boundary,(t,e)=>t.x+5>e.x&&t.x+t.width-5<e.x1,this.quill.root.parentNode);t.deleteColumns(this.boundary,e,this.quill.root.parentNode)||(this.tableColumnTool.updateToolCells(),this.quill.update(r.a.sources.USER),this.tableSelection.clearSelection())}},deleteRow:{text:"Delete selected rows",iconSrc:it.a,handler(){r.a.find(this.table).deleteRow(this.boundary,this.quill.root.parentNode),this.quill.update(r.a.sources.USER),this.tableSelection.clearSelection()}},deleteTable:{text:"Delete table",iconSrc:lt.a,handler(){const t=this.quill.getModule("better-table"),e=r.a.find(this.table);t.hideTableTools(),e.remove(),this.quill.update(r.a.sources.USER)}},highlightSelection:{text:"Highlight Selection",iconSrc:st.a,handler(){this.selectedTds&&this.selectedTds.length>0&&this.selectedTds.forEach(t=>{t.format("cell-highlight","true")})}}};class dt{constructor(t,e,o){const i=e.getModule("better-table");this.tableSelection=i.tableSelection,this.table=t.table,this.quill=e,this.options=o,this.menuItems=Object.assign({},ct,o.items),this.tableColumnTool=i.columnTool,this.boundary=this.tableSelection.boundary,this.selectedTds=this.tableSelection.selectedTds,this.destroyHandler=this.destroy.bind(this),this.columnToolCells=this.tableColumnTool.colToolCells(),this.colorSubTitle=o.color&&o.color.text?o.color.text:"Background Colors",this.cellColors=o.color&&o.color.colors?o.color.colors:at,this.menuInitial(t),this.mount(),document.addEventListener("click",this.destroyHandler,!1)}mount(){document.body.appendChild(this.domNode)}destroy(){return this.domNode.remove(),document.removeEventListener("click",this.destroyHandler,!1),null}menuInitial({table:t,left:e,top:o}){this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-operation-menu"),l(this.domNode,{position:"absolute",left:"".concat(e,"px"),top:"".concat(o,"px"),"min-height":"".concat(180,"px"),width:"".concat(200,"px")});for(let t in this.menuItems)this.menuItems[t]&&(this.domNode.appendChild(this.menuItemCreator(Object.assign({},ct[t],this.menuItems[t]))),["insertRowDown","unmergeCells"].indexOf(t)>-1&&this.domNode.appendChild(i()));function i(){const t=document.createElement("div");return t.classList.add("qlbt-operation-menu-dividing"),t}this.options.color&&!1!==this.options.color&&(this.domNode.appendChild(i()),this.domNode.appendChild(function(t){const e=document.createElement("div");return e.classList.add("qlbt-operation-menu-subtitle"),e.innerText=t,e}(this.colorSubTitle)),this.domNode.appendChild(this.colorsItemCreator(this.cellColors)))}colorsItemCreator(t){const e=this,o=document.createElement("div");return o.classList.add("qlbt-operation-color-picker"),t.forEach(t=>{let i=function(t){const o=document.createElement("div");return o.classList.add("qlbt-operation-color-picker-item"),o.setAttribute("data-color",t),o.style.backgroundColor=t,o.addEventListener("click",(function(){const o=e.tableSelection.selectedTds;o&&o.length>0&&o.forEach(e=>{e.format("cell-bg",t)})}),!1),o}(t);o.appendChild(i)}),o}menuItemCreator({text:t,iconSrc:e,handler:o}){const i=document.createElement("div");i.classList.add("qlbt-operation-menu-item");const r=document.createElement("span");r.classList.add("qlbt-operation-menu-icon"),r.innerHTML=e;const l=document.createElement("span");return l.classList.add("qlbt-operation-menu-text"),l.innerText=t,i.appendChild(r),i.appendChild(l),i.addEventListener("click",o.bind(this),!1),i}}function ht(t,e,o,i){return t.reduce((r,l)=>{let s=n(l.getBoundingClientRect(),i);return o(s,e)&&(r=t.indexOf(l)),r},!1)}const ut=r.a.import("delta");function pt(t,e,o){const i=t.parentNode,r="TABLE"===i.parentNode.tagName?i.parentNode:i.parentNode.parentNode,l=Array.from(r.querySelectorAll("tr")),n=Array.from(i.querySelectorAll("td")),a=l.indexOf(i)+1,c=n.indexOf(t)+1,d=t.getAttribute("colspan")||!1,h=t.getAttribute("rowspan")||!1,u=t.getAttribute("data-cell-bg")||t.style.backgroundColor;return 0===e.length()?e=(new ut).insert("\n",{"table-cell-line":{row:a,cell:c,rowspan:h,colspan:d}}):(e=e.reduce((t,e)=>{if(e.insert&&"string"==typeof e.insert){const o=[];let i=e.insert,r=0;for(let t=0;t<e.insert.length;t++)"\n"===i.charAt(t)&&(0===t||o.push(i.substring(r,t)),o.push("\n"),r=t+1);const l=i.substring(r);l&&o.push(l),o.forEach(o=>{"\n"===o?t.insert("\n",e.attributes):t.insert(o,s(e.attributes,["table","table-cell-line"]))})}else t.insert(e.insert,e.attributes);return t},new ut)).reduce((t,e)=>(e.insert&&"string"==typeof e.insert&&e.insert.startsWith("\n")?t.insert(e.insert,Object.assign({},Object.assign({},{row:a},e.attributes.table),{"table-cell-line":{row:a,cell:c,rowspan:h,colspan:d,"cell-bg":u}},s(e.attributes,["table"]))):e.attributes&&e.attributes.background&&e.attributes.background===function(t){if(/^(rgb|RGB)/.test(t)){for(var e=t.toString().match(/\d+/g),o="#",i=0;i<3;i++)o+=("0"+Number(e[i]).toString(16)).slice(-2);return o}if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){var r=t.replace(/#/,"").split("");if(6===r.length)return t;if(3===r.length){var l="#";for(i=0;i<r.length;i+=1)l+=r[i]+r[i];return l}}return t}(u)?t.insert(e.insert,Object.assign({},s(e.attributes,["table","table-cell-line","background"]))):t.insert(e.insert,Object.assign({},s(e.attributes,["table","table-cell-line"]))),t),new ut)}function gt(t,e,o){const i=t.parentNode,r="TABLE"===i.parentNode.tagName?i.parentNode:i.parentNode.parentNode,l=Array.from(r.querySelectorAll("tr")),n=Array.from(i.querySelectorAll("th")),a=l.indexOf(i)+1,c=n.indexOf(t)+1,d=t.getAttribute("colspan")||!1,h=t.getAttribute("rowspan")||!1;return 0===e.length()?e=(new ut).insert("\n",{"table-cell-line":{row:a,cell:c,rowspan:h,colspan:d}}):(e=e.reduce((t,e)=>{if(e.insert&&"string"==typeof e.insert){const o=[];let i=e.insert,r=0;for(let t=0;t<e.insert.length;t++)"\n"===i.charAt(t)&&(0===t||o.push(i.substring(r,t)),o.push("\n"),r=t+1);const l=i.substring(r);l&&o.push(l),o.indexOf("\n")<0&&o.push("\n"),o.forEach(o=>{"\n"===o?t.insert("\n",{"table-cell-line":{row:a,cell:c,rowspan:h,colspan:d}}):t.insert(o,e.attributes)})}else t.insert(e.insert,e.attributes);return t},new ut)).reduce((t,e)=>(e.insert&&"string"==typeof e.insert&&e.insert.startsWith("\n")?t.insert(e.insert,Object.assign({},{"table-cell-line":{row:a,cell:c,rowspan:h,colspan:d}})):t.insert(e.insert,Object.assign({},s(e.attributes,["table","table-cell-line"]))),t),new ut)}function mt(t,e,o){let i=new ut;const r=t.querySelector("tr");if(null===r)return i;const l=Array.from(r.querySelectorAll("td")).concat(Array.from(r.querySelectorAll("th"))).reduce((t,e)=>{const o=e.getAttribute("colspan")||1;return t+=parseInt(o,10)},0),n=t.querySelectorAll("col").length;if(n===l)return e;{for(let t=0;t<l-n;t++)i.insert("\n",{"table-col":!0});if(0===n)return i.concat(e);let t=0;return e.reduce((e,o)=>(e.insert(o.insert,o.attributes),o.attributes&&o.attributes["table-col"]&&(t+=o.insert.length,t===n&&(e=e.concat(i))),e),new ut)}}const bt=r.a.import("core/module"),ft=r.a.import("delta");class wt extends bt{static register(){r.a.register(R,!0),r.a.register(L,!0),r.a.register(v,!0),r.a.register(A,!0),r.a.register(q,!0),r.a.register(S,!0),r.a.register(H,!0),r.a.register(M,!0),r.a.register(k,!0),r.a.register(z,!0),r.a.register(z,!0),r.a.register(T,!0),r.a.register(y,!0),r.a.register(E,!0),r.a.register(C,!0),r.a.register(O,!0),r.a.register(B,!0)}constructor(t,e){super(t,e),this.quill.root.addEventListener("click",o=>{const i=a(o);if(!i||i.length<=0)return;const r=i.filter(t=>t.tagName&&"TABLE"===t.tagName.toUpperCase()&&t.classList.contains("quill-better-table"))[0];if(r){if(this.table===r)return;this.table&&this.hideTableTools(),this.showTableTools(r,t,e)}else this.table&&this.hideTableTools()},!1),this.quill.root.addEventListener("contextmenu",o=>{if(!this.table)return!0;o.preventDefault();const i=a(o);if(!i||i.length<=0)return;const r=i.filter(t=>t.tagName&&"TABLE"===t.tagName.toUpperCase()&&t.classList.contains("quill-better-table"))[0],l=i.filter(t=>t.tagName&&"TR"===t.tagName.toUpperCase()&&t.getAttribute("data-row"))[0],n=i.filter(t=>t.tagName&&("TD"===t.tagName.toUpperCase()||"TH"===t.tagName.toUpperCase())&&t.getAttribute("data-row"))[0];let s=this.tableSelection.selectedTds.map(t=>t.domNode).includes(n);(this.tableSelection.selectedTds.length<=0||!s)&&this.tableSelection.setSelection(n.getBoundingClientRect(),n.getBoundingClientRect()),this.tableOperationMenu&&(this.tableOperationMenu=this.tableOperationMenu.destroy()),r&&(this.tableOperationMenu=new dt({table:r,row:l,cell:n,left:o.pageX,top:o.pageY},t,e.operationMenu))},!1);t.getModule("keyboard");t.keyboard.addBinding({key:"Backspace"},{},(function(t,e){if(0===t.index||this.quill.getLength()<=1)return!0;const[o]=this.quill.getLine(t.index);if(0===e.offset){const[e]=this.quill.getLine(t.index-1);if(null!=e&&"table-cell-line"===e.statics.blotName&&"table-cell-line"!==o.statics.blotName)return!1}return!0}));let o=t.keyboard.bindings.Backspace.pop();t.keyboard.bindings.Backspace.splice(0,1,o),t.clipboard.addMatcher("td",pt),t.clipboard.addMatcher("th",gt),t.clipboard.addMatcher("table",mt),t.clipboard.matchers=t.clipboard.matchers.filter(t=>"tr"!==t[0])}getTable(t=this.quill.getSelection()){if(null==t)return[null,null,null,-1];const[e,o]=this.quill.getLine(t.index);if(null==e||e.statics.blotName!==v.blotName)return[null,null,null,-1];const i=e.tableCell(),r=i.row();return[r.table(),r,i,o]}insertTable(t,e){const o=this.quill.getSelection(!0);if(null==o)return;let i=this.quill.getLeaf(o.index)[0],l=(new ft).retain(o.index);!function t(e){return!(!e||!e.parent)&&(o=e.parent,o.statics.blotName===A.blotName||t(e.parent));var o}(i)?(l.insert("\n"),l=new Array(e).fill("\n").reduce((t,e)=>(t.insert(e,{"table-col":!0}),t),l),l=new Array(t).fill(0).reduce(t=>{let o=I();return new Array(e).fill("\n").reduce((t,e)=>(t.insert(e,{"table-cell-line":{row:o,cell:D()}}),t),t)},l),this.quill.updateContents(l,r.a.sources.USER),this.quill.setSelection(o.index+e+1,r.a.sources.API)):console.warn("Can not insert table into a table cell.")}showTableTools(t,e,o){this.table=t,this.columnTool=new c(t,e,o),this.tableSelection=new V(t,e,o)}hideTableTools(){this.columnTool&&this.columnTool.destroy(),this.tableSelection&&this.tableSelection.destroy(),this.tableOperationMenu&&this.tableOperationMenu.destroy(),this.columnTool=null,this.tableSelection=null,this.tableOperationMenu=null,this.table=null}}function Nt(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table-cell-line"],handler(e,o){const i=t?"prev":"next";if(null!=o.line[i])return!0;const l=o.line.parent,n=l.parent[i];if(null!=n&&"table-row"===n.statics.blotName){let t=n.children.head,e=parseInt(t.formats().colspan,10),o=l,i=parseInt(o.formats().colspan,10);for(;null!=o.prev;)o=o.prev,i+=parseInt(o.formats().colspan,10);for(;null!=t.next&&e<i;)t=t.next,e+=parseInt(t.formats().colspan,10);const s=t.offset(this.quill.scroll);this.quill.setSelection(s,0,r.a.sources.USER)}else{const e=l.table().parent[i];null!=e&&(t?this.quill.setSelection(e.offset(this.quill.scroll)+e.length()-1,0,r.a.sources.USER):this.quill.setSelection(e.offset(this.quill.scroll),0,r.a.sources.USER))}return!1}}}wt.keyboardBindings={"table-cell-line backspace":{key:"Backspace",format:["table-cell-line"],collapsed:!0,offset:0,handler(t,e){const[o,i]=this.quill.getLine(t.index);return!(!o.prev||"table-cell-line"!==o.prev.statics.blotName)}},"table-cell-line delete":{key:"Delete",format:["table-cell-line"],collapsed:!0,suffix:/^$/,handler(){}},"table-cell-line enter":{key:"Enter",shiftKey:null,format:["table-cell-line"],handler(t,e){if(this.quill.selection&&this.quill.selection.composing)return;const o=r.a.imports.parchment.Scope;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);const i=Object.keys(e.format).reduce((t,i)=>(this.quill.scroll.query(i,o.BLOCK)&&!Array.isArray(e.format[i])&&(t[i]=e.format[i]),t),{});this.quill.insertText(t.index,"\n",i["table-cell-line"],r.a.sources.USER),this.quill.setSelection(t.index+1,r.a.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(t=>{null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&this.quill.format(t,e.format[t],r.a.sources.USER))})}},"table-cell-line up":Nt(!0),"table-cell-line down":Nt(!1),"down-to-table":{key:"ArrowDown",collapsed:!0,handler(t,e){const o=e.line.next;if(o&&"table-view"===o.statics.blotName){const t=o.table().rows()[0].children.head.children.head;return this.quill.setSelection(t.offset(this.quill.scroll),0,r.a.sources.USER),!1}return!0}},"up-to-table":{key:"ArrowUp",collapsed:!0,handler(t,e){const o=e.line.prev;if(o&&"table-view"===o.statics.blotName){const t=o.table().rows(),e=t[t.length-1].children.head.children.head;return this.quill.setSelection(e.offset(this.quill.scroll),0,r.a.sources.USER),!1}return!0}}};e.default=wt}]).default}));